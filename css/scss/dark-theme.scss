@use "sass:color";
@import "utility";
/* Dark Theme */
.dark-theme {
    color: rgba($white, $alpha: 0.9);
    background: $primary-background; // Use new primary background

    .panel-layout {
        background: $primary-background; // Ensure panel itself has the base bg
        .panel-header {
            .logo {
                background: $primary-background; // Logo area bg
                border-right: 1px solid rgba($accent-orange, $alpha: 0.2);
                border-bottom: 1px solid rgba($accent-orange, $alpha: 0.2);
            }

            .nav-wrap {
                background: $secondary-background; // Nav wrap slightly different
                border-bottom: 1px solid rgba($accent-orange, $alpha: 0.2);

                .nav-left {
                    .sidebar-toggle {
                        background: rgba($accent-orange, $alpha:0.2);
                        color: $accent-orange;
                        &:hover { background: $accent-orange; color: $white; }
                    }
                }

                .nav-right {
                    .single-nav-right {
                        .single-right {
                            .color-switcher { // This button switches to light theme
                                color: $white;
                                svg {
                                    &.light-icon { display: inline-block; }
                                    &.dark-icon { display: none; }
                                }
                            }

                            .site-nice-select { // Custom select in header
                                color: rgba($white, $alpha: 0.9);
                                background: $primary-background; // Darker select bg
                                border: 1px solid rgba($accent-orange, $alpha: 0.2);
                                &::after { border-color: rgba($white, $alpha: 0.5); }
                                .list {
                                    background: $primary-background; // Dropdown list bg
                                    border:1px solid $accent-orange;
                                    li {
                                        color:$white; // Option text
                                        &:hover { background: rgba($accent-orange,0.2); color:$accent-orange; }
                                        &.selected { background:$accent-orange; color:$white;}
                                    }
                                }
                            }

                            .item { // Generic header item/button
                                background: $primary-background;
                                border: 1px solid rgba($accent-orange, $alpha: 0.2);
                                color: rgba($white, $alpha: 0.9);
                                &:hover { background: $accent-orange; color: $white; }
                            }

                            .dropdown-menu { // User/profile dropdown
                                background: $secondary-background; // Dropdown bg
                                border: 1px solid $accent-orange;
                                li {
                                    .dropdown-item {
                                        color: $white;
                                        &:hover { background: $accent-orange; color: $white; }
                                    }
                                    &.logout .dropdown-item { // Logout specific
                                        background: rgba($red, $alpha: 0.2); // Keep red for logout
                                        color: $red;
                                        &:hover { background: $red; color: $white; }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }

        .side-nav { // Main sidebar navigation
            background: $secondary-background; // Sidebar background
            border-right: 1px solid rgba($accent-orange, $alpha: 0.2);

            .side-nav-inside .side-nav-menu .side-nav-item {
                a {
                    color: rgba($white, $alpha: 0.7);
                    i { color: $accent-orange; } // Icon color
                    &:hover {
                        color: $accent-orange;
                        background-color: rgba($accent-orange, $alpha:0.1);
                    }
                     &::after { background: transparent; } // Remove the ::after strip if not needed
                }
                &.active a { // Active sidebar link
                    background: $gradient-primary-blue; // Use gradient for active
                    color: $white;
                    i { color: $white; }
                }
                &.side-nav-dropdown.show .dropdown-items { // Submenu background
                    background: $primary-background;
                    border-top: 1px solid rgba($accent-orange, $alpha:0.1);
                }
                 &.category-title { color: rgba($accent-orange, $alpha:0.6); }
            }
        }

        .site-card { // Generic card in user panel
            background: $secondary-background;
            border: 1px solid rgba($accent-orange, $alpha: 0.2);

            .site-card-header {
                border-bottom: 1px solid rgba($accent-orange, $alpha: 0.2);
                .title { color: $white; }
                .search input {
                    color: $white;
                    background: $primary-background;
                    border-color: rgba($accent-orange, $alpha: 0.3);
                     &::placeholder { color: rgba($white,0.5); }
                     &:focus { border-color: $accent-orange; }
                }
            }

            .site-card-body {
                color: rgba($white, $alpha:0.8);
                // Specific elements within cards
                .referral-link .referral-link-form {
                    input {
                        border-color: rgba($accent-orange, $alpha: 0.3);
                        background: $primary-background;
                        color: $white;
                         &::placeholder { color: rgba($white,0.6); }
                    }
                     button { // Copy button
                        background: $accent-orange;
                        border-color: $accent-orange;
                        color: $white;
                        &:hover { background: color.adjust($accent-orange, $lightness: -10%); border-color: color.adjust($accent-orange, $lightness: -10%);}
                    }
                }
                .referral-joined { color: rgba($white, $alpha: 0.6); }

                .progress-steps .single-step { // For multi-step forms
                    background: $primary-background;
                    border-color: rgba($accent-orange, $alpha: 0.3);
                    .content h4 { color: $white; }
                    .content p { color: rgba($white,0.7); }
                     &.current { // Active step
                        background: $gradient-green-blue; // Use a gradient for current step
                        border-color: $accent-orange;
                        .number { background:$accent-orange; color:$primary-background;}
                        .content h4, .content p {color:$white;}
                    }
                }

                .progress-steps-form { // Forms associated with progress steps
                    label { color: rgba($white, $alpha:0.8); }
                    .input-group {
                        .form-control, .form-control-textarea, .form-select {
                            border-color: rgba($accent-orange, $alpha: 0.3);
                            background: $primary-background;
                            color: $white;
                             &::placeholder {color:rgba($white,0.5);}
                             &:focus { border-color: $accent-orange; box-shadow: 0 0 5px rgba($accent-orange,0.3); }
                        }
                        .input-group-text {
                            border-color: rgba($accent-orange, $alpha: 0.3);
                            background: $secondary-background; // Or $primary-background
                            color: rgba($white, $alpha:0.7);
                        }
                         .site-nice-select { // Custom select in form
                            border-color: rgba($accent-orange, $alpha: 0.3) !important;
                            background: $primary-background !important;
                            .current { color: $white; }
                            .list { background: $primary-background; border:1px solid $accent-orange;
                                .option {color:$white; &:hover{background:rgba($accent-orange,0.2); color:$accent-orange;}}
                                .selected{background:$accent-orange;color:$white;}
                            }
                             &::after { border-color: rgba($white,0.6); }
                        }
                    }
                }
                // Transaction list already styled in main styles, ensure it inherits dark theme well or add specific overrides if needed
                 .transaction-list .table {
                     color:rgba($white,0.8);
                     border-color:rgba($accent-orange,0.2);
                     thead { background:rgba($accent-orange,0.1); color:$accent-orange; tr th {border-color:$accent-orange;}}
                     tbody tr { border-color:rgba($accent-orange,0.1); &:hover {background-color:rgba($accent-orange,0.05);}}
                 }

                .access-device .icon img { filter: invert(0.8) brightness(1.2) contrast(1.1); } // Adjust filter for dark bg
            }
        }

        .site-alert { // Alert messages in panel
            // Use new background variables, ensuring text contrast
            &.alert-success { background: rgba($green,0.3); border-left: 4px solid $green; color:$white;}
            &.alert-warning { background: rgba($yellow,0.2); border-left: 4px solid $yellow; color:$white;} // Text was $primary-background
            &.alert-danger { background: rgba($red,0.2); border-left: 4px solid $red; color:$white;}
            &.alert-info { background: rgba($blue,0.2); border-left: 4px solid $blue; color:$white;}
        }

        .side-wallet-box { // Wallet display box
            background: $secondary-background;
            color: rgba($white, $alpha: 0.8);
            border:1px solid rgba($accent-orange,0.2);
            box-shadow: 0 0 10px rgba($accent-orange,0.1);

            .user-balance-card {
                &::before { background: rgba($accent-orange, $alpha: 0.1); } // Decorative circle
                 &.default-wallet .user-balance-card { // Default wallet card
                    background: $gradient-primary-blue; // Gradient for default wallet
                }
            }
             .actions .user-sidebar-btn { // Buttons in wallet box
                background: $gradient-primary-blue;
                color:$white;
                &:hover { background: $gradient-start-mining; }
                &:last-of-type { background: $gradient-green-blue; &:hover { background: $gradient-start-mining;}}
            }
        }

        .btn-link { color: $accent-orange; &:hover {color:color.adjust($accent-orange, $lightness: -10%);} } // Text links

        .site-transactions .single { // Transaction items
            background: $primary-background; // Item bg
            border: 1px solid rgba($accent-orange,0.1);
            box-shadow: none;
            .left .icon { background: rgba($accent-orange,0.2); color: $accent-orange; }
            .left .content .date { color: rgba($white, $alpha: 0.5); }
            &:hover { background: $secondary-background; .left .icon {background:$accent-orange;color:$white;} }
            &.head { background: $secondary-background; color:$accent-orange; } // Header for transactions
        }

        .site-pagination .page-item .page-link { // Pagination
            color: rgba($white, $alpha: 0.7);
            background: $primary-background;
            border-color: rgba($accent-orange, $alpha:0.2);
             &:hover { background:rgba($accent-orange,0.2); color:$accent-orange;}
        }
        .site-pagination .page-item.active .page-link {
            background: $accent-orange;
            color: $white;
            border-color: $accent-orange;
        }
    }

    // General elements that might appear outside .panel-layout but in .dark-theme
    .header { // Main site header when dark theme is active
        background: $primary-background; // Consistent dark header
        border-bottom-color: rgba($accent-orange,0.2);
        .navbar {
            .main-nav .nav-item {
                a.nav-link {
                    color: $white;
                    &:hover, &.active { color: $accent-orange; }
                }
                &.dropdown .dropdown-menu { // Main site nav dropdowns
                    background: $secondary-background;
                    border: 1px solid $accent-orange;
                    li .dropdown-item {
                        color: $white;
                        &:hover, &:focus { background: $accent-orange; color: $white; }
                    }
                }
            }
            .header-right-btn .color-switcher { color: $white; }
        }
    }

    .banner { // Main site banner
        background: $primary-background; // Ensure banner is dark
        .banner-content {
            &::before { background: rgba($accent-orange, $alpha: 0.05); } // Subtle overlay if used
            h2 { color: $white; }
            p { color: rgba($white,0.8); }
        }
    }

    .how-it-works .how-it-works-single { // "How it works" cards
        background: $secondary-background;
        border:1px solid rgba($accent-orange,0.2);
        h4 { color: $white; }
        p { color: rgba($white, $alpha: 0.6); }
        .icon-box { color: $accent-orange; }
        &:hover { background: $gradient-green-blue; h4,p{color:$white;} }
        // &::before { filter... } // Keep if the line image is still relevant
    }

    .why-choose-us .why-choose-us-content .single { // "Why choose us" items
        .content {
            h4 { color: $white; }
            p { color: rgba($white, $alpha: 0.7); }
        }
        .icons .icon { background: $accent-orange; } // Icon bg
         &:hover .icons .icon { background: $gradient-green-blue; }
    }

    .faq-contents { // FAQ section
        .accordion-item {
            border-bottom: 1px solid rgba($accent-orange, $alpha: 0.2);
            background: $secondary-background; // Accordion item bg
            .accordion-header .accordion-button {
                background: $secondary-background;
                color: $white;
                &::after { filter: invert(1); } // Make arrow white
                &:not(.collapsed) {
                    background: rgba($accent-orange, $alpha: 0.2);
                    color: $accent-orange;
                     &::after { filter: invert(1) sepia(1) saturate(5) hue-rotate(10deg); } // Orange arrow
                }
            }
            .accordion-body {
                color: rgba($white, $alpha: 0.7);
                background: $primary-background; // Slightly different for body
            }
        }
    }

    .single-blog { // Blog cards on homepage/blog page
        background: $secondary-background;
        border: 1px solid rgba($accent-orange,0.2);
        .content {
            color: rgba($white, $alpha: 0.7);
            .title h3 a { color: $white; &:hover { color: $accent-orange; }}
            .link a { color: $accent-orange; &:hover { color: color.adjust($accent-orange, $lightness: -10%);} &::after{background:$accent-orange;}}
        }
    }

    .brands-logo .single-brands-logo img { // Client/partner logos
        filter: grayscale(100%) brightness(1.8) contrast(0.8); // Make them light/white
        opacity:0.8;
        &:hover { filter:grayscale(0%) brightness(1); opacity:1;}
    }

    // These were generic color classes from utility, ensure they are not overridden incorrectly
    .light-blue-bg { background: $secondary-background; }
    .dark-blue-bg { background: $primary-background; }

    .section-title {
        h2 { color: $white; } // Main section titles
        h4 { color: $accent-orange; } // Sub-titles/accent titles in sections
    }

    // Re-check .site-card from utility.scss if used outside .panel-layout
    // It's already defined within .panel-layout specific block, which is good.

    .single-investment-plan p { // Text in investment plans
        color: rgba($white, $alpha: 0.7); // Ensure readable text
    }

    .site-datatable { // DataTables general dark theme adjustments
        .dataTables_length label, .dataTables_filter label, .dataTables_info { color: rgba($white, 0.8); }
        .dataTables_length select, .dataTables_filter input {
            background-color: $primary-background;
            color: $white;
            border: 1px solid rgba($accent-orange, 0.3);
        }
        .dataTables_paginate .pagination .paginate_button .page-link {
            background: $primary-background;
            color: rgba($white, 0.7);
            border-color: rgba($accent-orange, 0.2);
            &:hover { background: rgba($accent-orange, 0.2); color: $accent-orange; }
        }
        .dataTables_paginate .pagination .paginate_button.active .page-link {
            background: $accent-orange;
            color: $white;
            border-color: $accent-orange;
        }

        .data-table { // Specific table styling
            background: $secondary-background;
            border-color: rgba($accent-orange,0.2);
            box-shadow: 0 0 10px rgba($accent-orange,0.1);
            thead tr th {
                border-color: $accent-orange;
                color: $accent-orange;
                background: rgba($accent-orange, 0.05);
            }
            tbody tr {
                td {
                    border-color: rgba($accent-orange, 0.1);
                    color: rgba($white,0.8);
                     .table-description .icon { background:rgba($white,0.1); color:$accent-orange;}
                }
                &:hover { background-color: rgba($accent-orange,0.03); }
            }
        }
    }

    .progress-steps-form .transaction-status { // Transaction status box
        background: $secondary-background;
        border: 1px solid rgba($accent-orange,0.2);
        color: $white;
    }

    .earnings-calculator { // Calculator on main site if any
        background: $secondary-background;
        box-shadow: 0 0 15px rgba($accent-orange,0.2);
        .single-box {
            label { color: rgba($white, $alpha: 0.8); }
            .input-group {
                .form-control { border-color: rgba($accent-orange,0.3); background:$primary-background; color: $white; }
                .input-group-text { border-color: $accent-orange; background:$accent-orange; color: $white; }
            }
            .site-nice-select { // Custom select in calculator
                background: $primary-background;
                border-color: rgba($accent-orange, 0.3);
                .current { color: $white; }
                .list { background: $primary-background; border:1px solid $accent-orange;
                    li { color:$white; &:hover{background:rgba($accent-orange,0.2);color:$accent-orange;}}
                     li.selected{background:$accent-orange;color:$white;}
                }
                &::after { border-color: rgba($white,0.6); }
            }
        }
    }

    .support-ticket-single-message { // Support ticket messages
        background: $secondary-background;
        border: 1px solid rgba($accent-orange,0.2);
        color: rgba($white,0.8);
        .message-attachments .single-attachment .attach a { color: $accent-orange; &:hover{color:color.adjust($accent-orange, $lightness: -10%);} }
    }

    .about-us .about-content .content { color: rgba($white, $alpha: 0.8); } // About us page text

    .site-form form { // General forms on site
        input, textarea, select {
            border-color: rgba($accent-orange, $alpha: 0.3);
            background: $primary-background;
            color: $white;
            &::placeholder { color: rgba($white, $alpha:0.5); }
            &:focus { border-color: $accent-orange; box-shadow: 0 0 5px rgba($accent-orange,0.3); }
        }
         button[type="submit"] { // General submit buttons
            @extend .site-btn;
            background: $gradient-primary-blue;
            &:hover { background: $gradient-start-mining;}
        }
    }

    .site-tab-bars { // Tab navigation bars
        background: $secondary-background;
        border: 1px solid rgba($accent-orange,0.2);
        ul li a {
            color: rgba($white,0.7);
            &:hover { color: $accent-orange; background:rgba($accent-orange,0.1);}
        }
        ul li.active a {
            background: $accent-orange;
            color: $white;
        }
         .nav.nav-pills .nav-item .nav-link {
            color: rgba($white,0.7);
            &.active { background:$accent-orange; color:$white;}
        }
    }

    .caches-privacy { // Cookie consent bar
        background: $secondary-background;
        border: 1px solid $accent-orange;
        box-shadow: 0 -2px 10px rgba($accent-orange,0.1);
        color: $white;
         button { // Assuming buttons here use .site-btn
            @extend .site-btn;
        }
    }

    // Ensure sidebar on blog pages is dark-themed
    .site-sidebar .single-sidebar {
        background: $secondary-background;
        border-color: rgba($accent-orange,0.2);
        color: $white;
        h3 {color:$white;}
        form input {
            background:$primary-background;
            border-color:rgba($accent-orange,0.3);
            color:$white;
             &::placeholder{color:rgba($white,0.5);}
             &:focus{border-color:$accent-orange;}
        }
        form button { color:rgba($white,0.7); &:hover{color:$accent-orange;}}
        ul li a {
            background:rgba($accent-orange,0.1);
            color:$accent-orange;
            &:hover{background:$accent-orange;color:$white;}
        }
    }
    .blog-details {
        color:rgba($white,0.8);
        .blockquote {
            background:$secondary-background;
            border-color:$accent-orange;
            color:rgba($white,0.9);
        }
    }
    .post-share-and-tag .social {
        color:$white;
        a {color:$white; &:hover{color:$accent-orange;}}
    }
     .input-icon { // Icons inside input fields
        color: rgba($white, $alpha: 0.5); // Make sure it's visible on dark inputs
    }
}
